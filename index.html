<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-71156606-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-71156606-1');
  </script>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>[QIAI] COVID-19 Lung Lesion Segmentation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <link rel="stylesheet" type="text/css" href="assets/styles/all.css" />
  <script type="text/javascript">document.documentElement.className = 'js';</script>
  <link rel="icon" type="image/svg+xml" href="assets/images/favicon.svg">
  <link rel="mask-icon" href="assets/images/mask-icon.svg" color="#000000">
  <link rel="icon" href="content/images/size/w256h256/2020/09/icon-1.png" type="image/png" />
    <!-- <link rel="canonical" href="https://openai.com/blog/formal-math/" /> -->
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <!-- <meta property="og:site_name" content="OpenAI" /> -->
    <meta property="og:type" content="article" />
    <meta property="og:title" content="COVID-19 Lung Lesion Segmentation" />
    <!-- <meta property="og:description" content="We built a neural theorem prover for Lean [https://leanprover.github.io/] that
learned to solve a variety of challenging high-school olympiad problems,
including problems from the AMC12
[https://www.maa.org/math-competitions/amc-1012] and AIME
[https://www.maa.org/math-competitions/invitational-competitions] competitions,
as well as two problems adapted from" /> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<link rel="stylesheet" href="/path/to/styles/default.min.css">
<script src="/path/to/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "OpenAI",
        "url": "https://openai.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "content/images/2022/05/openai-avatar.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Stanislas Polu",
        "url": "https://openai.com/blog/authors/stanislas/",
        "sameAs": []
    },
    "headline": "Solving (Some) Formal Math Olympiad Problems",
    "url": "https://openai.com/blog/formal-math/",
    "datePublished": "2022-02-02T18:01:48.000Z",
    "dateModified": "2022-02-07T17:00:14.000Z",
    "keywords": "Research",
    "description": "We built a neural theorem prover for Lean [https://leanprover.github.io/] that\nlearned to solve a variety of challenging high-school olympiad problems,\nincluding problems from the AMC12\n[https://www.maa.org/math-competitions/amc-1012] and AIME\n[https://www.maa.org/math-competitions/invitational-competitions] competitions,\nas well as two problems adapted from the IMO [https://www.imo-official.org/].[1] \nThe prover uses a language model to find proofs of formal statements. Each time\nwe find a new ",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://openai.com/"
    }
}
    </script>
    <meta name="generator" content="Ghost 5.2" />
    <link rel="alternate" type="application/rss+xml" title="OpenAI" href="https://openai.com/blog/rss/" />
    <script defer src="_tryghost/portal__2.2.0/umd/portal.min.js" data-ghost="https://openai.com/" data-key="23f7e2ddba37b787ce1ea90e77" data-api="https://openaidev.ghost.io/ghost/api/content/" ></script><style id="gh-members-styles">.gh-post-upgrade-cta-content,
.gh-post-upgrade-cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    width: 100%;
    color: #ffffff;
    font-size: 16px;
}
.gh-post-upgrade-cta-content {
    border-radius: 8px;
    padding: 40px 4vw;
}
.gh-post-upgrade-cta h2 {
    color: #ffffff;
    font-size: 28px;
    letter-spacing: -0.2px;
    margin: 0;
    padding: 0;
}
.gh-post-upgrade-cta p {
    margin: 20px 0 0;
    padding: 0;
}
.gh-post-upgrade-cta small {
    font-size: 16px;
    letter-spacing: -0.2px;
}
.gh-post-upgrade-cta a {
    color: #ffffff;
    cursor: pointer;
    font-weight: 500;
    box-shadow: none;
    text-decoration: underline;
}
.gh-post-upgrade-cta a:hover {
    color: #ffffff;
    opacity: 0.8;
    box-shadow: none;
    text-decoration: underline;
}
.gh-post-upgrade-cta a.gh-btn {
    display: block;
    background: #ffffff;
    text-decoration: none;
    margin: 28px 0 0;
    padding: 8px 18px;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
}
.gh-post-upgrade-cta a.gh-btn:hover {
    opacity: 0.92;
}</style>
    <script defer src="public/cards.min.js"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="public/cards.min.css">
</head>
<body>
<article class="post" id="post-formal-math">
  <header
  class="post-header"
  >
  <!-- <nav class="nav container" data-url="/blog/formal-math/">
  <div class="nav-row row align-items-center">
    <div class="d-none d-sm-block col-sm nav-symbol-wrap">
      <a href="index.html" class="nav-symbol"><svg id="openai-symbol" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 51 51"><path d="M47.21,20.92a12.65,12.65,0,0,0-1.09-10.38A12.78,12.78,0,0,0,32.36,4.41,12.82,12.82,0,0,0,10.64,9a12.65,12.65,0,0,0-8.45,6.13,12.78,12.78,0,0,0,1.57,15A12.64,12.64,0,0,0,4.84,40.51a12.79,12.79,0,0,0,13.77,6.13,12.65,12.65,0,0,0,9.53,4.25A12.8,12.8,0,0,0,40.34,42a12.66,12.66,0,0,0,8.45-6.13A12.8,12.8,0,0,0,47.21,20.92ZM28.14,47.57a9.46,9.46,0,0,1-6.08-2.2l.3-.17,10.1-5.83a1.68,1.68,0,0,0,.83-1.44V23.69l4.27,2.47a.15.15,0,0,1,.08.11v11.8A9.52,9.52,0,0,1,28.14,47.57ZM7.72,38.85a9.45,9.45,0,0,1-1.13-6.37l.3.18L17,38.49a1.63,1.63,0,0,0,1.65,0L31,31.37V36.3a.17.17,0,0,1-.07.13L20.7,42.33A9.51,9.51,0,0,1,7.72,38.85Zm-2.66-22a9.48,9.48,0,0,1,5-4.17v12a1.62,1.62,0,0,0,.82,1.43L23.17,33.2,18.9,35.67a.16.16,0,0,1-.15,0L8.54,29.78A9.52,9.52,0,0,1,5.06,16.8ZM40.14,25,27.81,17.84l4.26-2.46a.16.16,0,0,1,.15,0l10.21,5.9A9.5,9.5,0,0,1,41,38.41v-12A1.67,1.67,0,0,0,40.14,25Zm4.25-6.39-.3-.18L34,12.55a1.64,1.64,0,0,0-1.66,0L20,19.67V14.74a.14.14,0,0,1,.06-.13L30.27,8.72a9.51,9.51,0,0,1,14.12,9.85ZM17.67,27.35,13.4,24.89a.17.17,0,0,1-.08-.12V13a9.51,9.51,0,0,1,15.59-7.3l-.3.17-10.1,5.83a1.68,1.68,0,0,0-.83,1.44Zm2.32-5,5.5-3.17L31,22.35v6.34l-5.49,3.17L20,28.69Z"/></svg></a>
    </div>
    <div class="col col-sm-auto">
      <ul class="d-flex flex-row align-items-center justify-content-between small-caps">
        <div class="d-sm-none nav-symbol-wrap">
          <a href="index.html" class="nav-symbol"><svg id="openai-symbol" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 51 51"><path d="M47.21,20.92a12.65,12.65,0,0,0-1.09-10.38A12.78,12.78,0,0,0,32.36,4.41,12.82,12.82,0,0,0,10.64,9a12.65,12.65,0,0,0-8.45,6.13,12.78,12.78,0,0,0,1.57,15A12.64,12.64,0,0,0,4.84,40.51a12.79,12.79,0,0,0,13.77,6.13,12.65,12.65,0,0,0,9.53,4.25A12.8,12.8,0,0,0,40.34,42a12.66,12.66,0,0,0,8.45-6.13A12.8,12.8,0,0,0,47.21,20.92ZM28.14,47.57a9.46,9.46,0,0,1-6.08-2.2l.3-.17,10.1-5.83a1.68,1.68,0,0,0,.83-1.44V23.69l4.27,2.47a.15.15,0,0,1,.08.11v11.8A9.52,9.52,0,0,1,28.14,47.57ZM7.72,38.85a9.45,9.45,0,0,1-1.13-6.37l.3.18L17,38.49a1.63,1.63,0,0,0,1.65,0L31,31.37V36.3a.17.17,0,0,1-.07.13L20.7,42.33A9.51,9.51,0,0,1,7.72,38.85Zm-2.66-22a9.48,9.48,0,0,1,5-4.17v12a1.62,1.62,0,0,0,.82,1.43L23.17,33.2,18.9,35.67a.16.16,0,0,1-.15,0L8.54,29.78A9.52,9.52,0,0,1,5.06,16.8ZM40.14,25,27.81,17.84l4.26-2.46a.16.16,0,0,1,.15,0l10.21,5.9A9.5,9.5,0,0,1,41,38.41v-12A1.67,1.67,0,0,0,40.14,25Zm4.25-6.39-.3-.18L34,12.55a1.64,1.64,0,0,0-1.66,0L20,19.67V14.74a.14.14,0,0,1,.06-.13L30.27,8.72a9.51,9.51,0,0,1,14.12,9.85ZM17.67,27.35,13.4,24.89a.17.17,0,0,1-.08-.12V13a9.51,9.51,0,0,1,15.59-7.3l-.3.17-10.1,5.83a1.68,1.68,0,0,0-.83,1.44Zm2.32-5,5.5-3.17L31,22.35v6.34l-5.49,3.17L20,28.69Z"/></svg></a>
        </div>
          <li class="ml-sm-1.75" style="margin-top:0.5px"><a class="nav-link " href="index.html" data-slug="api">API</a></li>
          <li class="ml-sm-1.75" style="margin-top:0.5px"><a class="nav-link " href="index.html" data-slug="research">Research</a></li>
          <li class="ml-sm-1.75" style="margin-top:0.5px"><a class="nav-link active-parent" href="index.html" data-slug="blog">Blog</a></li>
          <li class="ml-sm-1.75" style="margin-top:0.5px"><a class="nav-link " href="index.html" data-slug="about">About</a></li>
      </ul>
    </div>
  </div> -->

  <style>
    .underline-effect {
  background-image: linear-gradient(120deg, #c400ad65 0%, #0092af91 100%);
  background-repeat: no-repeat;
  background-size: 100% 0.25em;
  background-position: 0 80%;
}
.underline-effect-2 {
  background-image: linear-gradient(120deg, #00a3c484 0%, #0092af86 100%);
  background-repeat: no-repeat;
  background-size: 100% 0.25em;
  background-position: 0 80%;
}
mark {
  background-color: rgba(255, 225, 0, 0.689);
  /* border-radius: 10px; */
  color: black;
}
  </style>
</nav>
          <div class="container mt-5">
    <div class="row">
        <div class="col-12 col-md-9 col-lg-8 col-xl-12 text-xl-center">
          <div class="max-width-xxwide mx-xl-auto">
            <h1 class="
   balance-text
   mb-0.75 mb-xl-2.25
   
  "><span class="underline-effect">COVID-19 Lung Lesion Segmentation Using a Sparsely Supervised Mask R-CNN on Chest X-rays Automatically Computed from Volumetric CTs</span></h1>          </div>
        </div>
    </div>
      <div class="row">
        <div class="col-12 col-md-9 col-lg-8 col-xl-6 order-xl-1">
            <div class="post-excerpt content no-col js-excerpt-container js-widow">
  </div>
        </div>
        <div class="col-12 col-md-3 col-lg-4 col-xl-3 order-xl-0">
            <div class="post-header-date small-copy color-fg-50 mb-1.5">
    <time datetime="2022-02-02"><span style="color: black">May 17, 2021</span></time>
    <div class="reading-time" style="position: relative; top: 10px">Presented at the <span style="color: black">2021 Annual Meeting of the Society for Imaging Informatics in Medicine (<strong><span class="underline-effect-2"><a href="https://siim.org/page/siim2021" target=_blank>SIIM21</a></span></strong>)</span></div>
    <div class="reading-time" style="position: relative; top: 20px"><span style="color: black">Cite as: </span>
      <pre style="width: 83%; position: relative; top:-20px"><code ><span style="color: black">V. Ramesh, B. Rister, and D. L. Rubin.
“COVID-19 Lung Lesion Segmentation 
Using a Sparsely Supervised Mask R-CNN
on Chest X-rays Automatically Computed 
from Volumetric CTs.” arXiv:2105.08147
[eess.IV], May 2021.
</code></pre></div></div></div></div>
 </div>
  </div>
</header>
  <section class="container">
  <div class="row">
    <section class="content">
      <!--kg-card-begin: markdown--><div class="js-excerpt" >
<p> Chest X-rays of COVID-19 patients are frequently obtained 
  to determine the extent of lung disease and are a valuable source of data for creating 
  AI models. Most work to date assessing disease severity on chest 
  imaging has focused on segmenting CT images; however, given that 
  CTs are performed much less frequently than chest X-rays for COVID-19 patients, automated 
  lung lesion segmentation on chest X-rays is clinically valuable. To <mark>accelerate 
  severity detection</mark> and <mark>augment the amount of publicly available chest X-ray training data 
  for supervised DL models</mark>, we propose an automated pipeline for segmentation of COVID-19 lung lesions 
  on chest X-rays comprised of a <mark style="background-color: rgba(0, 225, 255, 0.689);">Mask R-CNN</mark> trained on a <mark style="background-color: rgba(0, 225, 255, 0.689);">mixed dataset</mark> of open-source chest 
  X-rays and <mark style="background-color: rgba(0, 225, 255, 0.689);">coronal X-ray projections computed from annotated volumetric CTs</mark>. 
  
  <!-- In this paper, we propose an
  interpretable <mark>“Contextual Generator”</mark> architecture for question answering (QA),
  built as an extension of the recently published <mark>“Generator”</mark> algorithm for sentence generation<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>, 
  that produces grammatically valid answers to queries structured as lists of seed words. 
  We demonstrate the potential for this architecture to
  perform automated, closed-domain QA by detailing results on queries from
  <a href="https://singularitynet.io/" target=_blank>SingularityNET</a>’s “small world” <mark style="background-color: rgba(0, 225, 255, 0.689);">POC-English corpus</mark> and from the <mark style="background-color: rgba(0, 225, 255, 0.689);"><strong>S</strong>tanford
  <strong>Qu</strong>estion <strong>A</strong>nswering <strong>D</strong>ataset</mark> (<a href="https://rajpurkar.github.io/SQuAD-explorer/explore/v2.0/dev/" target=_blank>SQuAD 2.0</a>). Overall, our work may bring a greater degree of
  general conversational intelligence to proto-AGI NLP pipelines. -->
  
</div>


<section class="btns" ><a href="https://arxiv.org/abs/2105.08147" class="btn btn-dark btn-padded icon-paper">Read Paper</a> 
  <a href="https://github.com/rvignav/CT2Xray" class="btn btn-dark btn-padded icon-code">View Code</a>
  <a href="https://youtu.be/GGDTEq_liLE" class="btn btn-dark btn-padded icon-play">Watch Presentation</a>
  <a href="https://github.com/rvignav/CT2Xray/tree/master/mixed" class="btn btn-dark btn-padded icon-layers">View Dataset</a></section>
<hr >
<p >
  We develop an automated pipeline for COVID-19 lung lesion segmentation on chest X-rays. Due to the
lack of publicly available annotated chest X-ray data, we implement a pixel-based algorithm (a method
operating at the pixel level) that generates coronal X-ray projections from annotated volumetric CTs to
augment the training dataset. A Mask R-CNN framework is then trained on this mixed dataset. Our
model achieves superior accuracy with only limited supervised training.
</p>
 

<h2 ><span class="underline-effect-2">CT &rarr; CXR Conversion</span></h1>

  <p >
    We implement a pixel-based re-projection method, modeled as a sub-problem
of ray tracing<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>, to compute chest X-rays as coronal projections of volumes of axial CT
slices:</p>

<div class="proof color-fg font-sans-serif rounded p-0.75 p-md-1" data-id="1">
  <div class="informal-statement medium-small-copy"><div class="small-caps mb-0.5">Equation 1: CT to X-ray Conversion</div>
  <!-- <div class="note">Adapted from AMC12B 2020 Problem 6</div> -->
  We perform the following summation: <br><br><span style="font-size: x-large"><center>$\Theta(x,z) = \sum_{i=1}^{Y} \Phi(x,i,z) \quad \forall (x,z) \in [1, X] × [1, Z] ,$<br><br></center></span>
  where $\Phi$ is an $X \times Y \times Z$ 3D array denoting the volumetric CT and $\Theta$ is an $X \times Z$ matrix denoting the computed X-ray.
  </div><!-- end informal statement  -->
  </div><!-- end proof -->

  <p>The algorithm is implemented in Python as follows:</p>

  <div  class="proof color-fg font-sans-serif rounded p-0.75 p-md-1" data-id="0">
    <div class="informal-statement medium-small-copy"><div class="small-caps mb-0.5">Algorithm 1: create_CXR()</div>
    <!-- <div class="note">Adapted from AMC12 2000 Problem 5</div> -->

    <pre><code class="language-python">from PIL import Image
import numpy as np

def create_CXR(images): # images is a list of axial CT slices
  for z in range(len(images)): 
    img = Image.open(images[z]).convert('L')  # convert image to 8-bit grayscale
    HEIGHT, WIDTH = img.size
    data = list(img.getdata()) # convert image data to a list of integers
    # convert that to 2D list (list of lists of integers)
    pixels = [data[offset:offset+WIDTH] for offset in range(0, WIDTH*HEIGHT, WIDTH)]

    xray = np.zeros((len(images), Image.open(images[0]).convert('L').size[0]))

    # Loop from left to right on the CT slice
    for x in range(WIDTH):
      # Sum y values in the current x column
      sum = 0
      for y in range(HEIGHT):
        sum += pixels[y][x]
        # Assign sum to the point (x, z) on the coronal image - p[z][x] in the pixel array, 
        # since z represents height (rows) and x represents length (columns)
        xray[len(images) - 1 - z][x] = sum
  
  return xray</code></pre>
    </div><!-- end formal -->
    </div>





<h2 ><span class="underline-effect-2"><span style="font-variant: small-caps">ChexMix</span>: the 1<sup>st</sup> open-source dataset containing $>$100 CXRs with COVID-19 lung lesion annotations</span></h1>
    

<p >We present the first publicly available, open-source chest X-ray dataset containing over 100 images,
  assembled from <a href="https://coronacases.org/" target="_blank">a</a> <a href="https://radiopaedia.org/" target=_blank>variety</a> <a href="https://zenodo.org/record/3757476#.Yq1KpuzML8E" target=_blank>of</a> <a href="https://arxiv.org/abs/2005.06465" target=_blank>public</a> <a href="https://covid-segmentation.grand-challenge.org/Data/" target="_blank">sources</a>, with COVID-19 lung lesion annotations
  produced by our Mask R-CNN model:</p>





  <div id="samples-content" class="full mb-1.5 position-relative overflow-hidden" style="background-color:#f6f6f4; ">
    <div class="js-carousel carousel pt-4 pb-2.5">
    <div class="js-carousel-item carousel-item" id="imperialism"><div class="container">
    <div class="row mb-1.5">

      

      <iframe src="https://github.com/rvignav/CT2Xray/tree/master/xrays_only" style="border-radius: 10px; width:100%; height:500px"></iframe>

      </div>
    
  
  
    </div></div>
    <div class="js-carousel-item carousel-item" id="pharmacists"><div class="container">
    <div class="row mb-1.5">
    
      <div class="col-12 col-xl-3 mb-0.25"><div class="small-caps color-fg-50 text-xl-right mt-0.125">Context</div></div>
      <div class="col-12 col-md-9 col-lg-8 col-xl-6">
      <div class="medium-small-copy">
        Pharmacists are healthcare professionals with specialized education and training who perform various roles to ensure optimal health outcomes for their patients through the quality use of medicines. Pharmacists may also be small business proprietors, owning the pharmacy in which they practice. Since pharmacists know about the mode of action of a particular drug, and its metabolism and physiological effects on the human body in great detail, they play an important role in optimization of a drug treatment for an individual.    </div>
      </div>
      </div>
      <div class="row">
      <div class="col-12 col-xl-3 mb-0.5"><div class="small-caps color-fg-50 text-xl-right">Query</div></div>
      <div class="col-12 col-md-9 col-lg-8 col-xl-6">
        <div class="medium-small-copy font-italic" style="position: relative; top:-5px">
    pharmacists are    </div>
      
      </div>
      </div>
    <br>
      <div class="row">
        <div class="col-12 col-xl-3 mb-0.5"><div class="small-caps color-fg-50 text-xl-right">Output</div></div>
        <div class="col-12 col-md-9 col-lg-8 col-xl-6">
          <div class="medium-small-copy font-monospace" style="position: relative; top:-5px">
      Pharmacists are <mark style="background-color: rgba(255, 213, 0, 0.689);">proprietors</mark>.    </div>
  
    </div>
    </div>
    </div></div>
  
    <div class="js-carousel-item carousel-item" id="normans"><div class="container">
      <div class="row mb-1.5">
      
        <div class="col-12 col-xl-3 mb-0.25"><div class="small-caps color-fg-50 text-xl-right mt-0.125">Context</div></div>
        <div class="col-12 col-md-9 col-lg-8 col-xl-6">
        <div class="medium-small-copy">
          A tradition of singing had developed and the choir achieved fame in Normandy. Under the Norman abbot Robert, several monks fled to southern Italy, where they were patronized by Robert and established a Latin monastery. There they continued the tradition of singing.
        </div>
        </div>
        </div>
        <div class="row">
        <div class="col-12 col-xl-3 mb-0.5"><div class="small-caps color-fg-50 text-xl-right">Query</div></div>
        <div class="col-12 col-md-9 col-lg-8 col-xl-6">
          <div class="medium-small-copy font-italic" style="position: relative; top:-5px">
      monks fled to    </div>
        
        </div>
        </div>
      <br>
        <div class="row">
          <div class="col-12 col-xl-3 mb-0.5"><div class="small-caps color-fg-50 text-xl-right">Output</div></div>
          <div class="col-12 col-md-9 col-lg-8 col-xl-6">
            <div class="medium-small-copy font-monospace" style="position: relative; top:-5px">
        Monks fled to <mark style="background-color: rgba(255, 0, 0, 0.689);">tradition</mark>.    </div>
    
      </div>
      </div>
      </div></div>
    
      
  
  
  
    
    
    
    </div><!-- end .carousel -->
    </div><!-- end #samples-content -->





  <h2>Hello</h2>

<div class="full bg-fg-3 pt-3 pb-3" id="sample"><div class="container">
  <div class="row mb-0.125"><div class="content">
  <!-- <button class="button-unstyled fade js-refresh-sample" style="visibility: visible;" onclick="refreshSample()">
  <span class="small-copy"><span class="icon font-xxsmall mr-1/12 position-relative" style="top:0.15em;left:-1px">refresh</span>View another passage</span>
  </button> -->
  </div></div>
  <!-- passage -->
  <div class="row mb-2" style="margin-bottom: 0px !important;">
  <div class="col-12 col-md-9 col-lg-8 col-xl-3">
  <aside class="medium-small-copy font-bold ml-auto mb-0.2 position-xl-relative text-xl-right">
    Excerpt of<br>LG Dictionary</aside></div><div class="col-12 col-md-9 col-lg-8 col-xl-6">
      <pre style="position: relative; top:-25px"><code><span style="color: gray">% Grammar Learner v.0.4 2018-06-06 11:05:37 UTC</span>
&lang;dictionary-version-number&rang;: V0v0v4+;
&lang;dictionary-locale&rang;: EN4us+;

<span style="color: gray">% C01</span>
"directors" "has" "with":
(C02C01-) or (C03C01- & C01C02+) or (C03C01- & C01C05+) or (C04C01- & C01C05+) or (C05C01- & C01C02+) or (C05C01- & C01C04+) or (C05C01- & C01C05+);

<span style="color: gray">% C02</span>
"are" "binoculars" "board" "of" "sees" "to" "wants" "wood":
(C01C02-) or (C02C02+) or (C02C02- & C02C01+) or (C02C02- & C02C03+) or (C02C02- & C02C04+) or (C03C02- & C02C02+ & C02C03+) or (C03C02- & C02C03+ & C02C02+) or (C03C02- & C02C03+ & C02C03+) or (C05C02- & C02C03+) or (C05C02- & C04C02-) or (C05C02- & C05C02-) or (C05C02- & C05C02- & C02C02+);

<span style="color: gray">% C03</span>
"a" "before" "cake" "child" "dad" "daughter" "food" "her" "his" "human" "mom" "not" "now" "parent" "sausage" "son" "tool":
(C02C03-) or (C02C03- & C03C03-) or (C03C01+) or (C03C02+) or (C03C03+) or (C03C03- & C02C03-) or (C03C03- & C03C04+) or (C03C03- & C03C05+) or (C03C03- & C05C03-) or (C03C04+) or (C03C05+) or (C04C03-) or (C05C03-) or (C05C03- & C03C01+);

<span style="color: gray">% C04</span>
"be" "chalk" "knocked" "likes" "sawed":
(C01C04-) or (C02C04- & C04C05+) or (C03C04- & C04C02+ & C04C01+) or (C03C04- & C04C03+) or (C03C04- & C04C03+ & C04C03+);

<span style="color: gray">% C05</span>
"hammer" "is" "liked" "on" "saw" "telescope" "the" "was" "writes":
(C01C05- & C03C05-) or (C03C05- & C01C05-) or (C03C05- & C05C01+ & C05C05+ & C05C02+) or (C03C05- & C05C03+) or (C03C05- & C05C03+ & C05C01+) or (C03C05- & C05C03+ & C05C03+) or (C03C05- & C05C03+ & C05C03+ & C05C03+) or (C03C05- & C05C05+) or (C03C05- & C05C05+ & C05C01+) or (C03C05- & C05C05+ & C05C02+ & C05C01+) or (C04C05- & C05C02+) or (C05C02+) or (C05C05+) or (C05C05- & C05C02+) or (C05C05- & C05C03+);</code></pre>
  <!-- <div class="medium-small-copy truncate rounded p-0.5 bg-fg-3 mb-1" id="passage" style="border:1px inset rgba(0, 0, 0, 0.075)" data-fill="passage">New Jersey is in the crosshairs of a major winter storm that could paralyze parts of New England and dump in excess of a foot of snow on the Garden State by Saturday. The forecast remains highly volatile and may change dramatically in the coming 24 hours.<br><br>Throughout the day, The Star-Ledger will provide updates here (newest on top) as new information comes in, watches and warnings are issued and the forecast changes.</div> -->
  <!-- <div class="medium-small-copy" id="question" data-fill="question">What does the article say about the storm’s effects on daily life?</div> -->
  </div><!-- end .col -->
  </div><!-- end .row -->
  <!-- summary -->
  <div class="row mb-2">
  <div class="col-12 col-md-9 col-lg-8 col-xl-3">
  <aside class="medium-small-copy font-bold pt-0.2 ml-auto mb-0.2 position-xl-relative text-xl-right">
    Query
  </aside>
  </div>
  <div class="col-12 col-md-9 col-lg-8 col-xl-6 medium-small-copy">
  <!-- <button onclick="toggle(['blog/critiques/summary-human.html'], ['blog/critiques/summary-human-misleading.html','blog/critiques/summary-model.html'])" class="js-toggler button-unstyled py-0.2 mr-1/3 active">Human</button>
  <button onclick="toggle(['blog/critiques/summary-human-misleading.html'], ['blog/critiques/summary-human.html','blog/critiques/summary-model.html'])" class="js-toggler button-unstyled py-0.2 mr-1/3">Human misleading</button>
  <button onclick="toggle(['blog/critiques/summary-model.html'], ['blog/critiques/summary-human.html','blog/critiques/summary-human-misleading.html'])" class="js-toggler button-unstyled py-0.2 mr-1/3">AI</button> -->
  <!-- <hr class="my-0 mb-0.75"> -->
  <div class="medium-small-copy" data-id="summary-human" data-fill="answer_human" style="display: block; position: relative; top:5px;">[“mom”, “dad”, “company”, “wants”, “join”, “the”, “to”]</div>
  <!-- <div class="medium-small-copy" data-id="summary-human-misleading" data-fill="answer_human_misleading" style="display: none;">Daily events are expected to be heavily disrupted during the storm as the conditions for a blizzard are ripe. Travel is expected to be heavily affected, and NJ Transit announced that commuters will be able to use their tickets for any transit option like buses, ferries, etc. will be able to use it for another method. Visibility is expected to be extremely reduced as well. Furthermore, this storm may push waves and water inland to a degree much further than previously seen as an aftereffect of Hurricane Sandy. The storm can also end up destroying the roads, making travel impossible. Finally, many schools preemptively canceled schools in addition to several events.</div> -->
  <!-- <div class="medium-small-copy"><samp data-id="summary-model" data-fill="answer_model" style="display: none;">The storm could paralyze parts of New England, and dump a foot of snow on New Jersey. Travel will be impacted. Many flights have already been canceled. Schools are preemptively canceling or delaying classes. Events are being postponed. There is a threat that snowfall rates could reach two inches per hour across large swaths of northern and central New Jersey. Snowfall rates of this magnitude could reduce visibility substantially, wreak havoc on roads and make travel dangerous, if not nearly impossible.</samp></div> -->
  </div></div><!-- end .col --><!-- end .row -->
  <!-- critiques -->
  <div class="row mb-0.5">
  <div class="col-12 col-md-9 col-lg-8 col-xl-3">
  <aside class="medium-small-copy font-bold pt-0.2 ml-auto mb-0.2 position-xl-relative text-xl-right">
    Output
  </aside>
  </div>
  <div class="col-12 col-md-9 col-lg-8 col-xl-6 medium-small-copy">
  <!-- <button onclick="toggle(['blog/critiques/critiques-unassisted.html'], ['blog/critiques/critiques-assisted.html'])" class="js-toggler button-unstyled py-0.2 mr-1/3 active">Unassisted</button>
  <button onclick="toggle(['blog/critiques/critiques-assisted.html'], ['blog/critiques/critiques-unassisted.html'])" class="js-toggler button-unstyled py-0.2 mr-1/3">AI-assisted</button> -->
  <!-- <hr class="my-0 mb-0.75"> -->
  <!-- <div data-id="summary-human" style="display: block;"> -->
  <div class="medium-small-copy" data-id="critiques-unassisted" style="display: block; position: relative; top:5px;">
     <!-- <aside class="aside text-xl-right small-copy pt-0.1 mb-0.2 color-fg-60">Human-written</aside> -->
     <div class="critiques critiques-human" data-fill="human_critiques_unassisted"><div>
     ["Dad wants mom to join the company.", "Mom wants dad to join the company."]<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>
    </div></div>
    <br><br><br>
  <!-- </div> -->
  
  
  </div>
  
  </div></div><!-- end .col --><!-- end .row -->
  </div></div>

<h2 ><span class="underline-effect-2">Contextual Generator: QA $\in$ INLP</span></h1>

  <p >
  The Contextual Generator (CG) performs closed-domain QA on queries structured as
lists of seed words. It operates as follows:</p>
<ol >
<li>The CG calls the Loader to store the LG dictionary and corpus lexicon as well as
extract a context lexicon from a given document as described above.</li>
<li>The CG then recursively calls the Generator to determine valid sentence constructions from a list containing all seed words and $n$ additional words from a subset
of words in the context lexicon that satisfy initial checks of the planarity and
connectivity meta-rules. The $n$-addition permutations are tested in order of decreasing Zipfian frequency<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup> corresponding to the current context. If a valid sentence is found, the CG
returns that sentence and stops running. When step 2 is first executed, $n = 1$,
imposing the constraint that the answer is of minimum length.</li>
<li>If no sentences have been generated after testing all valid subsets and the runtime
has not exceeded a limit specified to avoid combinatorial explosions (3 min in our
experiments), the CG increases $n$ by $1$ and repeats step 2.</li>
</ol>
<h2 ><span class="underline-effect-2">Zipf's what?</span></h1>

<p >
  In the previous subsection, it was specified that the CG checks
$n$-addition permutations in order of decreasing Zipfian frequency. To motivate this,
consider the sample query “mom cake” along with a context specifying the food
preferences of family members. If the CG were to use context word frequencies without
modification rather than Zipfian frequencies, it would perceive the sentence “Cake was
a mom” as more contextually appropriate than “Mom likes cake,” which is the ground
truth answer. This is due to a phenomenon known as Zipf’s Law, which states that
the rank-frequency distribution of words in a given lexicon is an inverse relation;
determiners and linking verbs (“a,” “the,” “was,” “is,” etc.) are more common in any
corpus, regardless of context, than more semantically appropriate words (such as
“likes” in the context of food preferences as in the motivating example above). To
account for Zipf’s law, we use the Zipfian frequency:
</p>
<div class="proof color-fg font-sans-serif rounded p-0.75 p-md-1" data-id="1">
  <div class="informal-statement medium-small-copy"><div class="small-caps mb-0.5">Equation 1: Zipfian Frequency</div>
  <!-- <div class="note">Adapted from AMC12B 2020 Problem 6</div> -->
  The Zipfian frequency $Z_w$ is given by:<br><br><span style="font-size: x-large"><center>$Z_w = \frac{\log(1+F_X(w))}{\log(1+F_C(w))},$</center></span>
  <br>
  where $w$ is the given word, $F_X(w)$ is the frequency of $w$ in the context document, and $F_C(w)$ is the frequency of $w$ in the corpus.
  </div><!-- end informal statement  -->
  </div><!-- end proof -->
  <p>
  Because the Zipfian frequency divides the
  logarithm of the context frequency by that of the corpus frequency, more contextually
  appropriate words receive higher scores than do determiners and similarly common
  words. For multiple-word additions, we sum individual Zipfian frequencies.
</p>

<h2><span class="underline-effect-2">Results</span></h1>

<p>When tested on 60 queries from SingularityNET’s POC-English corpus, our model far outperformed prior language models 
  (<a href="https://arxiv.org/abs/1810.04805" target=_blank>BERT</a>, <a href="https://arxiv.org/abs/2003.10555" target=_blank>ELECTRA</a>, 
  <a href="https://arxiv.org/abs/1910.01108" target=_blank>DistilBERT</a>, and <a href="https://arxiv.org/abs/1907.11692" target=_blank>RoBERTa</a>) in terms of BLEU, <strong>W</strong>ord2<strong>V</strong>ec <strong>C</strong>osine <strong>S</strong>imilarity (WVCS), and <strong>T</strong>ranslation <strong>E</strong>dit <strong>R</strong>ate (TER), and 
  achieved competitive <strong>W</strong>ord <strong>E</strong>rror <strong>R</strong>ate (WER) scores:</p>

<!-- <br><br> -->
<canvas id="myChart" style="width:100%;max-width:1200px"></canvas>
<p style="font-family: ColfaxAI,Helvetica,sans-serif; font-variant: small-caps; font-size: medium; position: relative; left:101%; bottom:315px; color:green">bleu&nbsp;<span style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; ">↑</span></p>
<p style="font-family: ColfaxAI,Helvetica,sans-serif; font-variant: small-caps; font-size: medium; position: relative; left:101%; bottom:345px; color:red">wvcs&nbsp;<span style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; position: relative; top:-2px;">↑</span></p>
<p style="font-family: ColfaxAI,Helvetica,sans-serif; font-variant: small-caps; font-size: medium; position: relative; left:101%; bottom:320px; color:blue">wer&nbsp;<span style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; position: relative; top:-2px;">&darr;</span></p>
<p style="font-family: ColfaxAI,Helvetica,sans-serif; font-variant: small-caps; font-size: medium; position: relative; left:101%; bottom:215px; color:orange">ter&nbsp;<span style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; position: relative; top:-2px;">&darr;</span></p>

<p style="position: relative; top:-150px;">Tests of the CG on three samples randomly obtained from SQuAD 2.0 are shown below.</p>


  <h2 style="position: relative; top: -100px"><span class="underline-effect-2">What next?</span></h2>

  <p style="position: relative; top: -100px">Our QA architecture will primarily be applied to the <a href="https://ieeexplore.ieee.org/abstract/document/8109887" target="_blank">Aigents Social Media Intelligence Platform</a>. If integrated into the Aigents cognitive architecture—which
    currently depends on artificially controlled language similar to oversimplified “pidgin”
    English—our algorithm could provide GCI to Aigents chatbots.
    </p>
    <p style="position: relative; top: -100px">
      Our future work will involve: 1) testing our algorithm on queries from arbitrary
    English documents using the complete LG dictionary; 2) implementing grammatical
    disambiguation; 3) expanding our algorithm’s QA capabilities by building an integrated LG schema containing semantic as well as grammatical knowledge; 4) implementing the full QA pipeline including semantic interpretation and query execution
    preceding response generation; and 5) adding support for languages other than English
    (including languages such as Russian that require heavy morphology usage).</p>
    

<style>
:root {
  --proof-green: #00A67D; /* green */
  --proof-medium-blue: #0082D0; /* medium-blue */
  --proof-red: #F22C3D; /* red */
  --proof-golden: #EA9100; /* golden */
}
.proof {
  background-color: #0E0E1A;
  --fg: 247,247,247;
  margin-top: calc(var(--v) * 1.5);
  margin-bottom: calc(var(--v) * 1.5);
}
.proof .note {
  color: rgba(var(--fg), 0.5);
  font-style: italic;
}
.proof .theorem {
  color: var(--proof-red);
  font-weight: bold;
}
.proof .keyword {
  color: var(--proof-green);
}
.proof .comment {
  color: rgba(var(--fg), 0.5);
  font-style: italic;
}
.proof .model {
  color: var(--proof-golden);
}
.proof .highlight {
  font-weight: bold;
  background-color: rgba(var(--fg), 0.05);
}
.proof + .proof {
  margin-top: calc(var(--v) * -0.5);
}
.proof pre {
  margin-top: 0;
  margin-bottom: 0;
}
.informal p {
  margin-bottom: 0;
}
</style>
<style>
  #toxicity-chart svg {
    width: 100%;
    height: 0.333333em;
    margin-bottom: calc(var(--v) * 0.375);
  }
  #samples-note > * {
    display: none;
    visibility: hidden;
  }
  #samples-note[data-active="0"] [data-id="0"],
  #samples-note[data-active="1"] [data-id="1"],
  #samples-note[data-active="2"] [data-id="2"],
  #samples-note[data-active="3"] [data-id="3"],
  #samples-note[data-active="4"] [data-id="4"],
  #samples-note[data-active="5"] [data-id="5"] {
    display: block;
    visibility: visible;
  }
  #samples .highlight {
    background-color: rgba(0,183,255,0.25);
    display: inline;
  }
  .carousel {
    opacity: 0;
    transition: opacity 250ms ease-in-out;
  }
  .carousel.flickity-enabled {
    opacity: 1;
  }
  .carousel-item {
    width: 100%;
    display: none;
  }
  .carousel-item.is-selected {
    z-index: 1; /* so works with iframe fade */
  }
  .carousel-item:first-of-type,
  .flickity-enabled .carousel-item {
    display: block;
  }
  /* flickity */
  .flickity-enabled {
    position: relative;
  }
  .flickity-enabled:focus { outline: none; }
  .flickity-viewport {
    /*overflow: hidden;*/
    position: relative;
    height: 100%;
  }
  .flickity-slider {
    position: absolute;
    width: 100%;
    height: 100%;
  }
  /* flickity button */
  .flickity-button {
    position: absolute;
    background-color: rgba(255,255,255,0.7);
    -webkit-backdrop-filter: blur(1.5rem);
    backdrop-filter: blur(1.5rem);
    border: none;
    opacity: 0;
    transition: opacity 250ms ease-in-out;
    cursor: default;
  }
  .flickity-enabled:hover .flickity-button:not([disabled]) {
    opacity: 0.7;
  }
  .flickity-enabled:hover .flickity-button:not([disabled]):hover {
    opacity: 1;
    cursor: pointer;
  }
  .flickity-button:focus {
    outline: none;
  }
  .flickity-button-icon {
    fill: rgba(0,0,0,1);
  }
  /* flickity previous/next buttons */
  .device-type-mobile .flickity-prev-next-button {
    display: none;
  }
  .flickity-prev-next-button {
    top: calc(50% + var(--v) * 1);
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    transform: translateY(calc(-50% - 1.5rem));
  }
  .flickity-prev-next-button.previous { left: 0; }
  .flickity-prev-next-button.next { right: 0; }
  .flickity-rtl .flickity-prev-next-button.previous {
    left: auto;
    right: 0;
  }
  .flickity-rtl .flickity-prev-next-button.next {
    right: auto;
    left: 0;
  }
  .flickity-prev-next-button .flickity-button-icon {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }
  /* flickity page dots */
  .flickity-page-dots {
    margin-bottom: 0 !important;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: center;
    -ms-flex-pack: center;
    justify-content: center;
    width: 100%;
    position: absolute;
    top: calc(var(--v) * 1);
  }
  .flickity-rtl .flickity-page-dots { direction: rtl; }
  .flickity-page-dots .dot {
    cursor: pointer;
    display: block;
    cursor: pointer;
    padding: 1rem 0.15rem;
    width: 2.5rem;
  }
  .flickity-page-dots .dot:before {
    content: none;
  }
  .flickity-page-dots .dot:after {
    content: "";
    display: block;
    width: 100%;
    height: 2px;
    border-radius: 1px;
    opacity: 0.2;
    background-color: rgba(var(--fg), 1);
  }
  .flickity-page-dots .dot:hover:after {
    opacity: 0.8;
  }
  .flickity-page-dots .dot.is-selected:after {
    opacity: 1;
  }
  </style>
<script src="flickity_2.2.1/dist/flickity.pkgd.min.js"></script>
<script src="flickity-hash_1/hash.js"></script>
<script>
  // Flickity carousel
  var initCarousel = function (mainClass, cellClass) {
    var el = document.querySelector(mainClass);
    if (!el) return;
    var flickity = new Flickity(el, {
      cellSelector: cellClass,
      wrapAround: true,
      draggable: false,
      pageDots: true,
      hash: true,
      adaptiveHeight: true,
      selectedAttraction: 0.15,
      friction: 0.72,
      arrowShape: 'M55.18,32.24l2.56,2.54L42.65,50,57.74,65.22l-2.56,2.54L37.59,50Z',
      on: {
        ready: function () {
          initCarouselStyles();
        }
      },
    });
    flickity.on('change', function () {
      setActiveNote(flickity.selectedIndex);
    });
  };
  var setActiveNote = function (i) {
    var note = document.getElementById('samples-note');
    if (!note) return;
    note.setAttribute('data-active', i);
  };
  var initCarouselStyles = function () {
    var buttons = document.querySelectorAll('.flickity-prev-next-button');
    if (buttons.length) {
      buttons.forEach(function (button) {
        button.classList.add('mx-col');
      });
    }
    var pageDots = document.querySelector('.flickity-page-dots');
    if (pageDots) {
      pageDots.classList.add('list-unstyled');
    }
  };
  // call everything
  document.addEventListener('DOMContentLoaded', function () {
    initCarousel('.js-carousel', '.js-carousel-item');
  });
  </script>

<script>
  var xValues = ["BERT","ELECTRA", "DistilBERT", "RoBERTa", "CG"];
  
  new Chart("myChart", {
    type: "line",
    data: {
      labels: xValues,
      datasets: [{ 
        // label: 'BLEU&uarr;',
        data: [0.639,0.712, 0.604, 0.767, 0.878],
        borderColor: "red",
        fill: false
      }, { 
        // label: 'Word2Vec Cosine Similarity&uarr;',
        data: [0.606, 0.741, 0.595, 0.799, 0.944],
        borderColor: "green",
        fill: false
      }, { 
        // label: 'WER&darr;',
        data: [0.924, 0.550, 1.095, 0.150, 0.645],
        borderColor: "blue",
        fill: false
      },
      { 
        // label: 'TER&darr;',
        data: [0.381, 0.342, 0.457, 0.245, 0.166],
        borderColor: "orange",
        fill: false
      }]
    },
    options: {
      legend: {display: false}
    }
  });
  </script>

<script>
  // get and randomize JSON samples, https://stackoverflow.com/a/35294675
  // var filePath = "https://cdn.openai.com/critiques/draft-20220605a/";
  // var filePath = "https://gist.githubusercontent.com/justinjaywang/b14e9d05c8203a158dac4c5a26cf8017/raw/d2be835b7d4b4514c3cb1545e85f7fe9915d7499/";
  var filePath = "https://gist.githubusercontent.com/justinjaywang/e167409e9b21edde2378df90fba2a52a/raw/00ba4d779b892f16b19fa1882cce94261b480a43/";
  var samples = {
    // file: "critique-samples-test.json",
    file: "critiques-samples.json",
    pairs: [
      {key: 'passage', selector: '[data-fill="passage"]'},
      {key: 'question', selector: '[data-fill="question"]'},
      {key: 'answer_human', selector: '[data-fill="answer_human"]'},
      {key: 'answer_human_misleading', selector: '[data-fill="answer_human_misleading"]'},
      {key: 'answer_model', selector: '[data-fill="answer_model"]'},
    ],
    critiques: [
     {key: 'human_critiques_unassisted', selector: '[data-fill="human_critiques_unassisted"]'},
     {key: 'human_critiques_assisted_model', selector: '[data-fill="human_critiques_assisted_model"]'},
     {key: 'human_critiques_assisted', selector: '[data-fill="human_critiques_assisted"]'},
     {key: 'human_misleading_critiques_unassisted', selector: '[data-fill="human_misleading_critiques_unassisted"]'},
     {key: 'human_misleading_critiques_assisted_model', selector: '[data-fill="human_misleading_critiques_assisted_model"]'},
     {key: 'human_misleading_critiques_assisted', selector: '[data-fill="human_misleading_critiques_assisted"]'},
     {key: 'model_critiques_unassisted', selector: '[data-fill="model_critiques_unassisted"]'},
     {key: 'model_critiques_assisted_model', selector: '[data-fill="model_critiques_assisted_model"]'},
     {key: 'model_critiques_assisted', selector: '[data-fill="model_critiques_assisted"]'},
    ],
  };
  var openRequest = function () {
    var request = new XMLHttpRequest();
    request.open('GET', filePath + samples['file'], true);
    request.onload = function() {
      if (request.status >= 200 && request.status < 400) {
        // Success!
        var data = JSON.parse(request.responseText);
        samples.l = data.length;
        samples.data = data;
        showRefresh();
      } else {
        // We reached our target server, but it returned an error
        console.log("error after reaching server with ", file)
      }
    };
    request.onerror = function() {
      // There was a connection error of some sort
      console.log("request error with ", file)
    };
    request.send();
  };
  // open request
  openRequest();
  var showRefresh = function () {
    sampleEl = document.getElementById('sample');
    sampleEl.querySelector('.js-refresh-sample').style.visibility = 'visible';
  };
  var refreshSample = function () {
    var i = rand(samples.l);
    var sample = samples.data[i - 1];
    // scroll to top of passage
    var p = document.getElementById('passage');
    p.scrollTop = 0;
    // replace text in simple pairs
    samples.pairs.forEach(function (pair) {
      var sampleStr = sample[pair.key];
      var formattedSampleStr = smarten(sampleStr.trim().replace(/\n/g, '<br />'));
      // replace DOM
      document.querySelector(pair.selector).innerHTML = formattedSampleStr;
    });
    // replace text in critiques
    samples.critiques.forEach(function (critique) {
     var critiquesEl = document.querySelector(critique.selector);
     critiquesEl.innerHTML = ''; // clear out
      var critArr = sample[critique.key]; // array of critique objects
      if (!critArr.length) {
        // no critiques, append "none" message
        var c = document.createElement('div');
        c.classList.add('color-fg-50', 'font-italic');
        c.innerHTML = '(none)';
        critiquesEl.appendChild(c); // append to DOM
      }
      critArr.forEach(function (critObj) {
        // append each critique to parent div
        var critStr = critObj.critique;
        var formattedcritStr = smarten(critStr.trim().replace(/\n/g, '<br />'));
        var isUnhelpful = !!critObj.is_unhelpful;
        var c = document.createElement('div');
        if (isUnhelpful) c.classList.add('unhelpful');
        c.innerHTML = formattedcritStr;
        critiquesEl.appendChild(c); // append to DOM
      });
    });
  };
  var rand = function (l) {
    return Math.floor((Math.random() * l) + 1);
  };
  // https://gist.github.com/drdrang/705071
  var smarten = function (a) {
    a = a.replace(/(^|[-\u2014\s(\["])'/g, "$1\u2018");       // opening singles
    a = a.replace(/'/g, "\u2019");                            // closing singles & apostrophes
    a = a.replace(/(^|[-\u2014/\[(\u2018\s])"/g, "$1\u201c"); // opening doubles
    a = a.replace(/"/g, "\u201d");                            // closing doubles
    a = a.replace(/--/g, "\u2014");                           // em-dashes
    return a
  };
  // toggle function
  var toggle = function (whichIds, otherIds) {
    for (var i = 0; i < whichIds.length; i++) {
      var whichId = whichIds[i];
      var whichEls = document.querySelectorAll('[data-id="' + whichId + '"]');
      if (!whichEls.length) return;
      whichEls.forEach(function (e) {
        e.style.display = 'block';
      });
    }
    for (var i = 0; i < otherIds.length; i++) {
      var otherId = otherIds[i];
      var otherEls = document.querySelectorAll('[data-id="' + otherId + '"]');
      if (!otherEls.length) return;
      otherEls.forEach(function (e) {
        e.style.display = 'none';
      });
    }
  };
  // togglers
  var initToggler = function () {
    var togglers = document.querySelectorAll('.js-toggler');
    if (!togglers.length) return;
    for (var i = 0; i < togglers.length; i++) {
      var toggler = togglers[i];
      toggler.addEventListener('click', function (e) {
        removeActiveTogglers(this.parentElement.querySelectorAll('.js-toggler'));
        addActiveToggler(this);
      });
    }
  };
  var addActiveToggler = function (el) {
    el.classList.add('active');
  };
  var removeActiveTogglers = function (els) {
    els.forEach(function (el) {
      el.classList.remove('active');
    });
  };
  // init
  document.addEventListener('DOMContentLoaded', function () {
    initToggler();
  });
  </script>
<footer class="post-footer js-post-footer" style="margin-top: 0px">
<!-- footer item -->
<!-- <div><hr><div class="row" id="acknowledgments">
<div class="col">Acknowledgments</div>
<div class="col">
<p>Thanks to our colleagues at SingularityNET and OpenCog, Ben Goertzel and Linas Vepstas, for their support and thoughtful feedback since the beginning of the Interpretable Natural Language Processing (INLP) initiative.</p>
<p>Thanks to Andres Suarez for his help with training and testing data collection.</p>
</div>
</div></div> -->
<!-- special footer item for footnotes -->
<div data-order="-2"><hr><div class="row" id="footnotes">
<div class="col">Footnotes</div>
<div class="col">
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item">
  <p>the act of using the path that light takes through pixels to create images <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p><span style="color: black">INLP</span> is
  an extension of <span style="color: black">interpretable AI (IAI)</span>—which expands upon explainable AI (XAI) by
  calling for an <span style="color: black">interpretable model/knowledge base</span> as well as <span style="color: black">explainable results</span>—to
  NLP. INLP enables the <span style="color: black">acquisition of natural language</span>, <span style="color: black">comprehension of text-based
  messages</span>, and <span style="color: black">production of linguistic content</span> in a <span style="color: black">reasonable</span> and <span style="color: black">transparent</span> manner. <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>
  LG is founded upon the fact that each word is defined by a <span style="color: black">set of connectors</span> and
  <span style="color: black">disjuncts associating those connectors</span>. Connectors serve as either the <span style="color: black">left or right half</span>
  of a <span style="color: black">grammatical link</span>, and disjuncts are <span style="color: black">sets of connectors that define
  the valid grammatical context of a given word</span>. <span style="color: black">Rules</span>—which represent lexical
  entries or grammatical categories—describe the <span style="color: black">sets of defining disjuncts</span> for clusters of
  grammatically equivalent words. LG imposes <span style="color: black">two additional meta-rules</span>: <span style="color: black">"planarity"</span> (links must not cross), and <span style="color: black">"connectivity"</span> (all links and tokens in a sentence must form a connected graph). <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>
    It is seen that the Generator falls victim to the issue of <span style="color: black">grammatical
    ambiguity</span>, which refers to situations in which <span style="color: black">the same word may have different roles
    in a sentence</span> (i.e. a noun can be either a subject or an object) or <span style="color: black">may represent different
    parts of speech</span> (such as the word “saw” in its verb and noun forms). <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn5" class="footnote-item"><p>
  a metric derived from <span style="color:black">Zipf's Law</span> <a href="#fnref5" class="footnote-backref">↩︎</a></p>
</li>

</ol>
</section>
<!--kg-card-end: markdown-->
    </section>
  </div>
</section>
  <footer class="post-footer post-footer--authors container js-post-footer-authors">
  <div data-order="0">
    <hr>
    <div class="row" id="authors">
      <div class="col">Authors</div>
      <div class="col js-post-footer-authors-list ">
        <span class="post-author"><a class="fade" href="https://vignavramesh.me">Vignav Ramesh</a></span><span class="post-author"><a class="fade" href="https://orcid.org/0000-0002-4490-0444">Blaine Rister</a></span><span class="post-author"><a class="fade" href="http://rubinlab.stanford.edu/">Daniel L. Rubin</a></span></span>
      </div>
    </div>
  </div>
</footer>

</article>

  <script type="text/javascript" src="assets/scripts/main.js"></script>
  <br>
<center><font size="2"></font></center></body>
</html>
